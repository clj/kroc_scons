#INCLUDE "defBF534.inc"

PROC delay.us (VAL INT us)
  TIMER tim:
  INT t:
  SEQ
    tim ? t
    tim ? AFTER (t PLUS us)
:

PROC leds ()
  PLACED [PORTGIO.LEN]INT16 port.g.io PORTGIO.ADDR:
  #PRAGMA DEFINED port.g.io

  CHAN BYTE uart0:
  PLACE uart0 AT #0:

  WHILE TRUE
    BYTE b:
    SEQ
      uart0 ? b
      IF
        b = '1'
          port.g.io[PORTGIO] := port.g.io[PORTGIO] >< #0100
        b = '2'
          port.g.io[PORTGIO] := port.g.io[PORTGIO] >< #0200
        TRUE
          SKIP
:

